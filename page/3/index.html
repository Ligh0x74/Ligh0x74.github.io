<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Ligh0x74&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Ligh0x74&#039;s Blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Ligh0x74&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Ligh0x74&#039;s Blog"><meta property="og:url" content="https://ligh0x74.github.io/"><meta property="og:site_name" content="Ligh0x74&#039;s Blog"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://ligh0x74.github.io/img/og_image.png"><meta property="article:author" content="Ligh0x74"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://ligh0x74.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ligh0x74.github.io"},"headline":"Ligh0x74's Blog","image":["https://ligh0x74.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Ligh0x74"},"publisher":{"@type":"Organization","name":"Ligh0x74's Blog","logo":{"@type":"ImageObject","url":"https://ligh0x74.github.io/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Ligh0x74&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-10-10T04:19:10.075Z" title="2023/10/10 下午12:19:10">2023-10-10</time>发表</span><span class="level-item"><time dateTime="2023-10-10T04:45:23.680Z" title="2023/10/10 下午12:45:23">2023-10-10</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span> / </span><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/Codeforces/">Codeforces</a></span><span class="level-item">7 分钟读完 (大约1080个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/10/10/Educational%20Codeforces%20Round%20156%20(Rated%20for%20Div.%202)/">Educational Codeforces Round 156 (Rated for Div. 2)</a></p><div class="content"><h2 id="Sum-of-Three"><a href="#Sum-of-Three" class="headerlink" title="Sum of Three"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1886/problem/A">Sum of Three</a></h2><p>当 <code>n &lt;= 6 || n == 9</code> 时，不能凑出三个不同的不能被 \(3\) 整除的正整数，其他情况均可以通过以下方式凑出。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">6</span> || n == <span class="number">9</span>) &#123;</span><br><span class="line">        io.println(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>, b = <span class="number">2</span>, c = n - <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">if</span> (c % <span class="number">3</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        c -= <span class="number">2</span>;</span><br><span class="line">        b += <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line">    io.println(a + <span class="string">&quot; &quot;</span> + b + <span class="string">&quot; &quot;</span> + c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Fear-of-the-Dark"><a href="#Fear-of-the-Dark" class="headerlink" title="Fear of the Dark"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1886/problem/B">Fear of the Dark</a></h2><p>可以分为四种情况：点 \(O\) 和 点 \(P\) 在圆 \(A\) 内&#x2F;上；点 \(O\) 和 点 \(P\) 在圆 \(B\) 内&#x2F;上；点 \(O\) 和 点 \(P\) 分别在圆 \(A\) 和圆 \(B\) 内&#x2F;上，并且圆 \(A\) 和圆 \(B\) 相切&#x2F;相交；点 \(O\) 和 点 \(P\) 分别在圆 \(B\) 和圆 \(A\) 内&#x2F;上，并且圆 \(A\) 和圆 \(B\) 相切&#x2F;相交。</p>
<p><strong>方法一：浮点二分</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">double</span> <span class="variable">px</span> <span class="operator">=</span> io.nextInt(), py = io.nextInt();</span><br><span class="line">    <span class="type">double</span> <span class="variable">ax</span> <span class="operator">=</span> io.nextInt(), ay = io.nextInt();</span><br><span class="line">    <span class="type">double</span> <span class="variable">bx</span> <span class="operator">=</span> io.nextInt(), by = io.nextInt();</span><br><span class="line"></span><br><span class="line">    <span class="type">double</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>, hi = <span class="number">1e4</span>;</span><br><span class="line">    <span class="keyword">while</span> (hi - lo &gt; <span class="number">1e-9</span>) &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">mid</span> <span class="operator">=</span> lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">oToA</span> <span class="operator">=</span> dist(<span class="number">0</span>, <span class="number">0</span>, ax, ay) &lt;= mid;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">aToP</span> <span class="operator">=</span> dist(ax, ay, px, py) &lt;= mid;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">oToB</span> <span class="operator">=</span> dist(<span class="number">0</span>, <span class="number">0</span>, bx, by) &lt;= mid;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">bToP</span> <span class="operator">=</span> dist(bx, by, px, py) &lt;= mid;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">aToB</span> <span class="operator">=</span> dist(ax, ay, bx, by) &lt;= <span class="number">2</span> * mid;</span><br><span class="line">        <span class="keyword">if</span> ((oToA &amp;&amp; aToP) || (oToB &amp;&amp; bToP) || (oToA &amp;&amp; aToB &amp;&amp; bToP) || (oToB &amp;&amp; aToB &amp;&amp; aToP)) hi = mid;</span><br><span class="line">        <span class="keyword">else</span> lo = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(hi);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">dist</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> y1, <span class="type">double</span> x2, <span class="type">double</span> y2)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>方法二：直接计算</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">double</span> <span class="variable">px</span> <span class="operator">=</span> io.nextInt(), py = io.nextInt();</span><br><span class="line">    <span class="type">double</span> <span class="variable">ax</span> <span class="operator">=</span> io.nextInt(), ay = io.nextInt();</span><br><span class="line">    <span class="type">double</span> <span class="variable">bx</span> <span class="operator">=</span> io.nextInt(), by = io.nextInt();</span><br><span class="line"></span><br><span class="line">    <span class="type">double</span> <span class="variable">oToA</span> <span class="operator">=</span> dist(<span class="number">0</span>, <span class="number">0</span>, ax, ay);</span><br><span class="line">    <span class="type">double</span> <span class="variable">aToP</span> <span class="operator">=</span> dist(ax, ay, px, py);</span><br><span class="line">    <span class="type">double</span> <span class="variable">oToB</span> <span class="operator">=</span> dist(<span class="number">0</span>, <span class="number">0</span>, bx, by);</span><br><span class="line">    <span class="type">double</span> <span class="variable">bToP</span> <span class="operator">=</span> dist(bx, by, px, py);</span><br><span class="line">    <span class="type">double</span> <span class="variable">aToB</span> <span class="operator">=</span> dist(ax, ay, bx, by);</span><br><span class="line"></span><br><span class="line">    <span class="type">double</span> <span class="variable">ans</span> <span class="operator">=</span> Math.max(oToA, aToP);</span><br><span class="line">    ans = Math.min(ans, Math.max(oToB, bToP));</span><br><span class="line">    ans = Math.min(ans, Math.max(oToA, Math.max(aToB / <span class="number">2</span>, bToP)));</span><br><span class="line">    ans = Math.min(ans, Math.max(oToB, Math.max(aToB / <span class="number">2</span>, aToP)));</span><br><span class="line">    io.println(ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">dist</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> y1, <span class="type">double</span> x2, <span class="type">double</span> y2)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Decreasing-String"><a href="#Decreasing-String" class="headerlink" title="Decreasing String"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1886/problem/C">Decreasing String</a></h2><p>二分删除的字符数 \(p\)，可以通过计算得到 \(q&#x3D;pos-\frac{(n+(n-p+1))\cdot p}{2}\)，则答案为 \(s_{1+p}[q]\)，可以使用单调栈删除字符，然后获取答案即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> io.next();</span><br><span class="line">    <span class="type">long</span> <span class="variable">pos</span> <span class="operator">=</span> io.nextLong();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>, hi = n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (lo &lt;= hi) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> ((<span class="type">long</span>) (n + n - mid + <span class="number">1</span>) * mid / <span class="number">2</span> &lt; pos) lo = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> hi = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> hi, q = (<span class="type">int</span>) (pos - (<span class="type">long</span>) (n + n - hi + <span class="number">1</span>) * hi / <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (p &gt; <span class="number">0</span> &amp;&amp; !sb.isEmpty() &amp;&amp; sb.charAt(sb.length() - <span class="number">1</span>) &gt; s.charAt(i)) &#123;</span><br><span class="line">            sb.deleteCharAt(sb.length() - <span class="number">1</span>);</span><br><span class="line">            p--;</span><br><span class="line">        &#125;</span><br><span class="line">        sb.append(s.charAt(i));</span><br><span class="line">    &#125;</span><br><span class="line">    io.print(sb.charAt(q - <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Monocarp-and-the-Set"><a href="#Monocarp-and-the-Set" class="headerlink" title="Monocarp and the Set"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1886/problem/D">Monocarp and the Set</a></h2><p>很容易想到当 <code>s[0] == &#39;?&#39;</code> 时，方案数为 \(0\)，并且 <code>&gt;</code> 和 <code>&lt;</code> 符号的位置放什么数都是确定的，也就是说只有 <code>?</code> 位置对答案有贡献。分别考虑每个 <code>?</code> 位置（从位置 \(1\) 开始，因为位置 \(0\) 不能是 <code>?</code>），假设该位置的下标为 \(i\)，那么它是第 \(i+2\) 个的数（因为添加第 \(1\) 个数时，不会记录字符到 \(s\) 中，并且下标从 \(0\) 开始，所以加 \(2\)），第 \(i+2\) 个数必须要大于前 \(i+1\) 个数的最小值，小于前 \(i+1\) 个数的最大值。我们可以将前 \(i+1\) 个数排成有序的序列，然后根据大小将第 \(i+2\) 个数插入到序列中，总共有 \(i+2\) 个插入位置，但在限制条件下，我们只能选择 \(i\) 个位置进行插入，对所有 <code>?</code> 位置累乘 \(i\) 即可得到当前字符串的插入方案数。</p>
<p>看半天才懂，很多题解只提到插入法，根本没提到有序序列，只要知道是根据大小插入就很简单了。也就是说，插入时根本不关心当前是什么数，只关心当前数在前面数的最大值和最小值之间。在将所有的数插入完成后，所有 <code>?</code> 位置是什么数就随之确定，也就确定了一种方案。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), m = io.nextInt();</span><br><span class="line">    <span class="type">char</span>[] s = io.next().toCharArray();</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">&#x27;?&#x27;</span>) ans = ans * i % MOD;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    query(s, ans);</span><br><span class="line">    <span class="keyword">while</span> (m-- != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> io.nextInt() - <span class="number">1</span>;</span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> io.next().charAt(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (i != <span class="number">0</span> &amp;&amp; s[i] == <span class="string">&#x27;?&#x27;</span>) &#123;</span><br><span class="line">            ans = ans * pow(i, MOD - <span class="number">2</span>) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        s[i] = c;</span><br><span class="line">        <span class="keyword">if</span> (i != <span class="number">0</span> &amp;&amp; s[i] == <span class="string">&#x27;?&#x27;</span>) &#123;</span><br><span class="line">            ans = ans * i % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        query(s, ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">query</span><span class="params">(<span class="type">char</span>[] s, <span class="type">long</span> ans)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s[<span class="number">0</span>] == <span class="string">&#x27;?&#x27;</span>) io.println(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">else</span> io.println(ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">pow</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1L</span>, x = a;</span><br><span class="line">    <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((n &amp; <span class="number">1</span>) == <span class="number">1</span>) res = res * x % MOD;</span><br><span class="line">        x = x * x % MOD;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">int</span>) res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-10-09T14:14:16.599Z" title="2023/10/9 下午10:14:16">2023-10-09</time>发表</span><span class="level-item"><time dateTime="2023-10-09T14:18:33.143Z" title="2023/10/9 下午10:18:33">2023-10-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E8%AF%AD%E8%A8%80/">语言</a><span> / </span><a class="link-muted" href="/categories/%E8%AF%AD%E8%A8%80/Java/">Java</a></span><span class="level-item">1 分钟读完 (大约134个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/10/09/JDK-8299339%20HashMap%20merge%20and%20compute%20methods%20can%20cause%20odd%20resizing%20pathologies/">JDK-8299339 : HashMap merge and compute methods can cause odd resizing pathologies</a></p><div class="content"><p>贴一下去年发现的 Bug，嘿嘿。</p>
<p><img src="/img/Java.assets/1696860185814.png"></p>
<p><img src="/img/Java.assets/1696860671675.png"></p>
<p>导致 Bug 的示例代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        map.merge(<span class="number">1</span>, <span class="number">1</span>, Integer::sum);</span><br><span class="line">        map.merge(<span class="number">2</span>, <span class="number">1</span>, Integer::sum);</span><br><span class="line"></span><br><span class="line">        map.forEach((k, v) -&gt; &#123;</span><br><span class="line">            map.merge(k, -<span class="number">1</span>, Integer::sum);</span><br><span class="line">            System.out.println(k);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8299339">Java Bug DataBase</a> 链接，里面比较详细的讨论了发生的问题，由于当时急着发出去，我的评论有点乱，而且是中文翻译为英文的，有点拉。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-10-09T11:52:28.926Z" title="2023/10/9 下午7:52:28">2023-10-09</time>发表</span><span class="level-item"><time dateTime="2023-10-09T11:55:49.731Z" title="2023/10/9 下午7:55:49">2023-10-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span> / </span><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/Codeforces/">Codeforces</a></span><span class="level-item">7 分钟读完 (大约1115个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/10/09/Codeforces%20Round%20902%20(Div.%202,%20based%20on%20COMPFEST%2015%20-%20Final%20Round)/">Codeforces Round 902 (Div. 2, based on COMPFEST 15 - Final Round)</a></p><div class="content"><h2 id="Goals-of-Victory"><a href="#Goals-of-Victory" class="headerlink" title="Goals of Victory"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1877/problem/A">Goals of Victory</a></h2><p>所有效率之和等于零。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        sum += io.nextInt();</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(-sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Helmets-in-Night-Light"><a href="#Helmets-in-Night-Light" class="headerlink" title="Helmets in Night Light"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1877/problem/B">Helmets in Night Light</a></h2><p><del>贪心选择最小花费的通知，注意维护已经被通知的下标，根据该下标判断是否需要加 \(p\)，并且如果某个人通知其他人的成本大于 \(p\)，则他不会通知其他人。</del>发现大佬的解法好简单，取一个最小值，维护一个剩余人数即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), p = io.nextInt();</span><br><span class="line">    <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        a[i] = io.nextInt();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] b = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        b[i] = io.nextInt();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">var</span> <span class="variable">aux</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        aux[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(aux, (i, j) -&gt; b[i] - b[j]);</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="variable">ans</span> <span class="operator">=</span> p;</span><br><span class="line">    <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i : aux) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> Math.min(r, a[i]);</span><br><span class="line">        ans += (<span class="type">long</span>) x * Math.min(p, b[i]);</span><br><span class="line">        r -= x;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Joyboard"><a href="#Joyboard" class="headerlink" title="Joyboard"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1877/problem/C">Joyboard</a></h2><p>分类讨论，注意被 \(n\) 整除的数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), m = io.nextInt(), k = io.nextInt();</span><br><span class="line">    <span class="keyword">if</span> (k == <span class="number">3</span>) io.println(Math.max(<span class="number">0</span>, m - n - m / n + <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (k == <span class="number">2</span>) io.println(m / n + Math.min(n - <span class="number">1</span>, m));</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (k == <span class="number">1</span>) io.println(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> io.println(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Effects-of-Anti-Pimples"><a href="#Effects-of-Anti-Pimples" class="headerlink" title="Effects of Anti Pimples"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1877/problem/D">Effects of Anti Pimples</a></h2><p>很容易的想到计算选择每个索引位置，能够得到的最大分数，时间复杂度为 \(O(n\log{n})\)。然后计算每个位置有多少种方案，比赛时我以为选择一个索引位置，默认就选择了它的所有倍数位置，导致不会做。其实只要排序，然后每个位置的方案数就是它左边的数选或不选的方案数，这样可以保证不会重复计算，所以<del>快速幂</del>计算方案数（可以在遍历的时候计算方案数），再乘以得分累加到答案即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        dp[i] = io.nextInt();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dp[<span class="number">0</span>] = Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2</span> * i; j &lt;= n; j += i) &#123;</span><br><span class="line">            dp[i] = Math.max(dp[i], dp[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Arrays.sort(dp);</span><br><span class="line">    <span class="type">long</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0L</span>, pow = <span class="number">1L</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        ans = (ans + dp[i] * pow) % MOD;</span><br><span class="line">        pow = pow * <span class="number">2</span> % MOD;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Autosynthesis"><a href="#Autosynthesis" class="headerlink" title="Autosynthesis"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1877/problem/E">Autosynthesis</a></h2><p><strong>方法一：内向基环树</strong></p>
<p>对于每个 \(i\)，建立一条从 \(i\) 指向 \(a_{i}\) 的边，最终会得到多个内向基环树。规则一：入度为零的节点不会被选择；规则二：如果一个节点的所有入度节点都被选择，那么它不会被选择；规则三：如果一个节点不被选择，那么它指向的节点会被选择。（以上规则可以使用拓扑序 + 染色法实现）</p>
<p><img src="/img/Codeforces.assets/1696848157468.png"></p>
<p>如图，数组为 \([2,3,4,5,6,3,3,4]\)，剩余索引 \([1,5,7,8]\)，剩余元素 \([2,6,3,4]\)，选择索引 \([2,6,3,4]\)。应用规则一，得出索引 \([1,7,8]\) 不被选择；应用规则三，得出索引 \([2,3,4]\) 被选择；应用规则二，得出索引 \([5]\) 不被选择；应用规则三，得出索引 \([6]\) 被选择。</p>
<p>特殊情况，如果内向基环树没有环外节点，无法应用上述规则，那么需要单独对环交替染色，若此时环的长度为奇数，则没有解，其他情况均有解。也就是说，当且仅当内向基环树没有环外节点，且环的长度为奇数时，无解。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">    <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        a[i] = io.nextInt() - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[] in = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        in[a[i]]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 拓扑序染色（-1 表示不选择，1 表示选择）</span></span><br><span class="line">    <span class="type">int</span>[] col = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    Queue&lt;Integer&gt; q = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (in[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            q.offer(i);</span><br><span class="line">            col[i] = -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!q.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> q.poll(), y = a[x];</span><br><span class="line">        <span class="keyword">if</span> (col[y] != <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (--in[y] == <span class="number">0</span> || col[x] == -<span class="number">1</span>) &#123;</span><br><span class="line">            q.offer(y);</span><br><span class="line">            col[y] = -col[x];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 单独处理没有环外节点的基环树</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (col[i] != <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i, pre = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (col[j] == <span class="number">0</span>) &#123;</span><br><span class="line">            col[j] = -pre;</span><br><span class="line">            pre = col[j];</span><br><span class="line">            j = a[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (col[j] == pre) &#123;</span><br><span class="line">            io.println(-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    List&lt;Integer&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (col[i] == -<span class="number">1</span>) ans.add(a[i] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(ans.size());</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> x : ans) &#123;</span><br><span class="line">        io.print(x + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    io.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>方法二：外向基环树</strong></p>
<p>好像有建立外向基环树的解法，没时间看，<a target="_blank" rel="noopener" href="https://codeforces.com/contest/1876/submission/227130971">在此</a>。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-10-09T11:50:40.708Z" title="2023/10/9 下午7:50:40">2023-10-09</time>发表</span><span class="level-item"><time dateTime="2023-10-09T11:51:46.727Z" title="2023/10/9 下午7:51:46">2023-10-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span> / </span><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/LeetCode/">LeetCode</a></span><span class="level-item">6 分钟读完 (大约828个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/10/09/%E7%AC%AC%20366%20%E5%9C%BA%E5%8A%9B%E6%89%A3%E5%91%A8%E8%B5%9B/">第 366 场力扣周赛</a></p><div class="content"><h2 id="分类求和并作差"><a href="#分类求和并作差" class="headerlink" title="分类求和并作差"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/divisible-and-non-divisible-sums-difference/">分类求和并作差</a></h2><p>数学性质，\([1,n]\) 中能被 \(m\) 整除的数有 \(\lfloor \frac{n}{m}\rfloor\) 个。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">differenceOfSums</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="number">1</span> + n) * n / <span class="number">2</span> - (<span class="number">1</span> + (n / m)) * (n / m) * m;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="最小处理时间"><a href="#最小处理时间" class="headerlink" title="最小处理时间"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-processing-time/">最小处理时间</a></h2><p>排序 + 贪心。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minProcessingTime</span><span class="params">(List&lt;Integer&gt; processorTime, List&lt;Integer&gt; tasks)</span> &#123;</span><br><span class="line">        Collections.sort(processorTime);</span><br><span class="line">        Collections.sort(tasks, (a , b) -&gt; b - a);</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> processorTime.size(), ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            ans = Math.max(ans, processorTime.get(i) + tasks.get(i * <span class="number">4</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="执行操作使两个字符串相等"><a href="#执行操作使两个字符串相等" class="headerlink" title="执行操作使两个字符串相等"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/apply-operations-to-make-two-strings-equal/">执行操作使两个字符串相等</a></h2><p><strong>方法一：动态规划</strong></p>
<p>今天脑子有点笨啊，本来做出来了，但是我将 <code>dp</code> 的初始值设置为 <code>Integer.MAX_VALUE</code>，将 <code>dfs</code> 不满足条件时的返回值也设置为该值，而判断是否记忆化的条件也设置为该值，所以所有不满足条件的方案都没有记忆化上。</p>
<p>我经常会写出从上到下记忆化的代码，但是每次都比从下到上的记忆化慢，经过分析，原因如下：从下到上的记忆化，只要该节点计算过，就会直接返回；而从上到下的记忆化，只有在当前节点的值比记忆化的值大时，才会直接返回，也就是说，这样的代码只会将所有大于记忆化的值的方案给剪枝掉，所有小于记忆化的值的方案会重复计算。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minOperations</span><span class="params">(String s1, String s2, <span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s1.length();</span><br><span class="line">        <span class="type">int</span>[][][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n][n + <span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n + <span class="number">1</span>; j++) &#123;</span><br><span class="line">                Arrays.fill(dp[i][j], -<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> dfs(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, s1, s2, x, dp);</span><br><span class="line">        <span class="keyword">return</span> ans &gt;= (<span class="type">int</span>) <span class="number">1e9</span> ? -<span class="number">1</span> : ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> c, <span class="type">int</span> r, String s1, String s2, <span class="type">int</span> x, <span class="type">int</span>[][][] dp)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == s1.length()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (c % <span class="number">2</span> == <span class="number">0</span> &amp;&amp; r == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> -c / <span class="number">2</span> * x;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> (<span class="type">int</span>) <span class="number">1e9</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (dp[i][c][r] != -<span class="number">1</span>) <span class="keyword">return</span> dp[i][c][r];</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> ((s1.charAt(i) == s2.charAt(i)) == (r == <span class="number">0</span>)) &#123;</span><br><span class="line">            res = dfs(i + <span class="number">1</span>, c, <span class="number">0</span>, s1, s2, x, dp);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res = dfs(i + <span class="number">1</span>, c + <span class="number">1</span>, <span class="number">0</span>, s1, s2, x, dp) + x;</span><br><span class="line">            res = Math.min(res, dfs(i + <span class="number">1</span>, c, <span class="number">1</span>, s1, s2, x, dp) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[i][c][r] = res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>方法二：动态规划</strong></p>
<p>时间复杂度 \(O(n)\)，空间复杂度 \(O(1)\) 的解法，其实比赛时第一眼差不多就想到这种解法，但是没有细想。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minOperations</span><span class="params">(String s1, String s2, <span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s1.length();</span><br><span class="line">        <span class="type">int</span> <span class="variable">pre</span> <span class="operator">=</span> -<span class="number">1</span>, cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">dp0</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1e9</span>, dp1 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s1.charAt(i) != s2.charAt(i)) &#123;</span><br><span class="line">                cnt ^= <span class="number">1</span>;</span><br><span class="line">                <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> dp1;</span><br><span class="line">                dp1 = Math.min(dp1 + (cnt == <span class="number">1</span> ? x : <span class="number">0</span>), dp0 + i - pre);</span><br><span class="line">                dp0 = t;</span><br><span class="line">                pre = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt == <span class="number">1</span> ? -<span class="number">1</span> : dp1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="对数组执行操作使平方和最大"><a href="#对数组执行操作使平方和最大" class="headerlink" title="对数组执行操作使平方和最大"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/apply-operations-on-array-to-maximize-sum-of-squares/">对数组执行操作使平方和最大</a></h2><p>挺简单一道题，T3 卡太久，脑子短路没时间做这题。对于每一位，每次操作其实就是交换两个数之间的 \(0\) 和 \(1\)，我们应该总是把 \(1\) 交换到更大的数上，这样平方和最大。所以统计每一位的 \(1\) 的个数，贪心的组合成最大的数，然后取平方加入答案即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxSum</span><span class="params">(List&lt;Integer&gt; nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] cnt = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">30</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : nums) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">30</span>; i++) &#123;</span><br><span class="line">                cnt[i] += x &gt;&gt; i &amp; <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0L</span>;</span><br><span class="line">        <span class="keyword">while</span> (k-- != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">30</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (cnt[i] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    cnt[i]--;</span><br><span class="line">                    x |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = (ans + (<span class="type">long</span>) x * x) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-10-01T16:19:41.442Z" title="2023/10/2 上午12:19:41">2023-10-02</time>发表</span><span class="level-item"><time dateTime="2023-10-01T16:20:18.945Z" title="2023/10/2 上午12:20:18">2023-10-02</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span> / </span><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/LeetCode/">LeetCode</a></span><span class="level-item">6 分钟读完 (大约863个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/10/02/%E7%AC%AC%20365%20%E5%9C%BA%E5%8A%9B%E6%89%A3%E5%91%A8%E8%B5%9B/">第 365 场力扣周赛</a></p><div class="content"><h2 id="有序三元组中的最大值-I"><a href="#有序三元组中的最大值-I" class="headerlink" title="有序三元组中的最大值 I"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-value-of-an-ordered-triplet-i/">有序三元组中的最大值 I</a></h2><p>同下。</p>
<h2 id="有序三元组中的最大值-II"><a href="#有序三元组中的最大值-II" class="headerlink" title="有序三元组中的最大值 II"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-value-of-an-ordered-triplet-ii/">有序三元组中的最大值 II</a></h2><p><strong>方法一：枚举 j</strong></p>
<p>比赛时第一想法是枚举 \(j\)，然后取左边和右边的最大值计算答案。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">maximumTripletValue</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span>[] pre = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span>[] suf = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            pre[i + <span class="number">1</span>] = Math.max(pre[i], nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            suf[i] = Math.max(suf[i + <span class="number">1</span>], nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0L</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; n - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            ans = Math.max(ans, (<span class="type">long</span>) (pre[j] - nums[j]) * suf[j + <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>方法二：枚举 k</strong></p>
<p>参考灵神的题解，可以枚举 \(k\)，使空间复杂度降为 \(O(1)\)。主要想法就是枚举时，维护前缀最大差值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">maximumTripletValue</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxDiff</span> <span class="operator">=</span> <span class="number">0</span>, preMax = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : nums) &#123;</span><br><span class="line">            ans = Math.max(ans, (<span class="type">long</span>) maxDiff * x);</span><br><span class="line">            maxDiff = Math.max(maxDiff, preMax - x);</span><br><span class="line">            preMax = Math.max(preMax, x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="无限数组的最短子数组"><a href="#无限数组的最短子数组" class="headerlink" title="无限数组的最短子数组"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-size-subarray-in-infinite-array/">无限数组的最短子数组</a></h2><p>比赛时思路很快出来，但是实现的时候漏掉一些边界条件，导致 WA 多次，本来有机会进第一页的。比较直接的想法是枚举起始位置，然后利用前缀和二分结束的位置，如果满足条件就记入答案。也可以使用哈希表来优化，避免二分。这里贴一下灵神的滑动窗口解法，时间复杂度 \(O(n)\)，空间复杂度 \(O(1)\)。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minSizeSubarray</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">long</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0L</span>, pre = <span class="number">0L</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : nums) sum += x;</span><br><span class="line">        <span class="type">int</span> <span class="variable">q</span> <span class="operator">=</span> (<span class="type">int</span>) (target / sum), r = (<span class="type">int</span>) (target % sum);</span><br><span class="line">        <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>, hi = <span class="number">0</span>, ans = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">while</span> (hi &lt; <span class="number">2</span> * n) &#123;</span><br><span class="line">            pre += nums[hi++ % n];</span><br><span class="line">            <span class="keyword">while</span> (pre &gt; r) &#123;</span><br><span class="line">                pre -= nums[lo++ % n];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (pre == r) &#123;</span><br><span class="line">                ans = Math.min(ans, hi - lo);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans == Integer.MAX_VALUE ? -<span class="number">1</span> : ans + q * n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="有向图访问计数"><a href="#有向图访问计数" class="headerlink" title="有向图访问计数"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/count-visited-nodes-in-a-directed-graph/">有向图访问计数</a></h2><p>看完题目就知道是内向基环树，直接修改上次的代码，轻松通过，本题是上次的简化版。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] countVisitedNodes(List&lt;Integer&gt; edges) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> edges.size();</span><br><span class="line">        <span class="comment">// 建立环外节点的反向边</span></span><br><span class="line">        <span class="type">int</span>[] in = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        List&lt;Integer&gt;[] reverse = <span class="keyword">new</span> <span class="title class_">List</span>[n];</span><br><span class="line">        Arrays.setAll(reverse, r -&gt; <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            in[edges.get(i)]++;</span><br><span class="line">            reverse[edges.get(i)].add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 拓扑序去除环外节点</span></span><br><span class="line">        Queue&lt;Integer&gt; q = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (in[i] == <span class="number">0</span>) q.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!q.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> q.poll();</span><br><span class="line">            <span class="keyword">if</span> (--in[edges.get(x)] == <span class="number">0</span>) &#123;</span><br><span class="line">                q.offer(edges.get(x));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 记录每个节点在哪个环</span></span><br><span class="line">        <span class="type">int</span>[] cirNum = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="type">boolean</span>[] vis = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">        List&lt;Integer&gt; circles = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[i] &amp;&amp; in[i] != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> i; !vis[cur]; cur = edges.get(cur)) &#123;</span><br><span class="line">                    vis[cur] = <span class="literal">true</span>;</span><br><span class="line">                    cirNum[cur] = circles.size();</span><br><span class="line">                    cnt++;</span><br><span class="line">                &#125;</span><br><span class="line">                circles.add(cnt);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 对环内的每个节点向环外进行 dfs</span></span><br><span class="line">        <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (in[i] != <span class="number">0</span>) dfs(i, reverse, in, circles.get(cirNum[i]), ans);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> x, List&lt;Integer&gt;[] reverse, <span class="type">int</span>[] in, <span class="type">int</span> len, <span class="type">int</span>[] ans)</span> &#123;</span><br><span class="line">        ans[x] = len;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> y : reverse[x]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (in[y] != <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            dfs(y, reverse, in, len + <span class="number">1</span>, ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有个非常简单的写法，参考<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/count-visited-nodes-in-a-directed-graph/solutions/2464875/bian-li-li-yong-ji-huan-shu-de-xing-zhi-80cua/">题解</a>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] countVisitedNodes(List&lt;Integer&gt; edges) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> edges.size();</span><br><span class="line">        <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="type">int</span>[] vis = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ans[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>, cirLen = <span class="number">0</span>, totLen = <span class="number">0</span>, pos = i;</span><br><span class="line">                <span class="keyword">while</span> (vis[pos] == <span class="number">0</span>) &#123;</span><br><span class="line">                    vis[pos] = ++cnt;</span><br><span class="line">                    pos = edges.get(pos);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (ans[pos] == <span class="number">0</span>) &#123;</span><br><span class="line">                    cirLen = cnt - vis[pos] + <span class="number">1</span>;</span><br><span class="line">                    totLen = cnt;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    totLen = cnt + ans[pos];</span><br><span class="line">                &#125;</span><br><span class="line">                pos = i;</span><br><span class="line">                <span class="keyword">while</span> (ans[pos] == <span class="number">0</span>) &#123;</span><br><span class="line">                    ans[pos] = Math.max(totLen--, cirLen);</span><br><span class="line">                    pos = edges.get(pos);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-10-01T16:17:39.103Z" title="2023/10/2 上午12:17:39">2023-10-02</time>发表</span><span class="level-item"><time dateTime="2023-10-01T16:18:52.012Z" title="2023/10/2 上午12:18:52">2023-10-02</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span> / </span><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/Codeforces/">Codeforces</a></span><span class="level-item">5 分钟读完 (大约718个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/10/02/Codeforces%20Round%20901%20(Div.%202)/">Codeforces Round 901 (Div. 2)</a></p><div class="content"><h2 id="Jellyfish-and-Undertale"><a href="#Jellyfish-and-Undertale" class="headerlink" title="Jellyfish and Undertale"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1875/problem/A">Jellyfish and Undertale</a></h2><p>每个工具对答案的贡献为 \(\min(a-1,x_{i})\)，并且答案可能会爆 \(long\)，状态好差，WA 两次。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> io.nextInt(), b = io.nextInt(), n = io.nextInt();</span><br><span class="line">    <span class="type">long</span> <span class="variable">ans</span> <span class="operator">=</span> b;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        ans += Math.min(a - <span class="number">1</span>, io.nextInt());</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Jellyfish-and-Game"><a href="#Jellyfish-and-Game" class="headerlink" title="Jellyfish and Game"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1875/problem/B">Jellyfish and Game</a></h2><p>数学题。当 \(k\bmod 2&#x3D;1\) 时，先手会得到 \(\min(0,maxb-mina)\)；反之，后手此时必然有最小价值的苹果 \(\min(mina,minb)\)，而先手此时会有最大价值的苹果 \(\max(maxa,maxb)\)，做一次交换即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), m = io.nextInt(), k = io.nextInt();</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="variable">suma</span> <span class="operator">=</span> <span class="number">0L</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">mina</span> <span class="operator">=</span> Integer.MAX_VALUE, maxa = Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">        suma += x;</span><br><span class="line">        mina = Math.min(mina, x);</span><br><span class="line">        maxa = Math.max(maxa, x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">minb</span> <span class="operator">=</span> Integer.MAX_VALUE, maxb = Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">        minb = Math.min(minb, x);</span><br><span class="line">        maxb = Math.max(maxb, x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (k % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">        io.println(suma + Math.max(<span class="number">0</span>, maxb - mina));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        io.println(suma + Math.max(<span class="number">0</span>, maxb - mina) - Math.max(maxa, maxb) + Math.min(mina, minb));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Jellyfish-and-Green-Apple"><a href="#Jellyfish-and-Green-Apple" class="headerlink" title="Jellyfish and Green Apple"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1875/problem/C">Jellyfish and Green Apple</a></h2><p>完了，官方解法看不懂，下面是我的解法，就是一直乘二求余，贪心的拆分。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), m = io.nextInt();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> n % m, y = m / gcd(n, m);</span><br><span class="line">    <span class="keyword">if</span> ((y &amp; (y - <span class="number">1</span>)) != <span class="number">0</span>) &#123;</span><br><span class="line">        io.println(-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0L</span>;</span><br><span class="line">    <span class="keyword">while</span> (x != <span class="number">0</span>) &#123;</span><br><span class="line">        ans += x;</span><br><span class="line">        x *= <span class="number">2</span>;</span><br><span class="line">        x %= m;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> gcd(b, a % b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面是官解，大概懂了。\(\frac{a}{b}\) 表示最终每个人得到的苹果价值的小数部分（可以表示为 \(\sum_{i\in S}\frac{1}{2^{i}}\)），因为 \(b\) 必须是二的幂，所以 \(a\) 中 \(1\) 的个数就表示这个人所需的最小苹果片数（就是集合 \(S\) 中元素的个数），乘以 \(m\) 就表示最后总共的苹果片数，然后减去最开始的 \(n\) 片就是需要进行操作的次数（因为每次操作会增加 \(1\) 片）。（这个<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/659201094">题解</a>很详细，提供了另一种视角）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), m = io.nextInt();</span><br><span class="line"></span><br><span class="line">    n %= m;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> gcd(n, m), a = n / x, b = m / x;</span><br><span class="line">    <span class="keyword">if</span> ((b &amp; (b - <span class="number">1</span>)) != <span class="number">0</span>) &#123;</span><br><span class="line">        io.println(-<span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        io.println((<span class="type">long</span>) Integer.bitCount(a) * m - n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> gcd(b, a % b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Jellyfish-and-Mex"><a href="#Jellyfish-and-Mex" class="headerlink" title="Jellyfish and Mex"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1875/problem/D">Jellyfish and Mex</a></h2><p>其实是很简单的动态规划，但就是动不起来啊。定义 \(dp[i]\) 为将 \(MEX\) 变为 \(i\) 需要的最小代价，然后从大到小转移即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> <span class="number">5001</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">    <span class="type">int</span>[] cnt = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">        <span class="keyword">if</span> (x &lt; n) cnt[x]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">mex</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (cnt[mex] &gt; <span class="number">0</span>) mex++;</span><br><span class="line">    <span class="type">long</span>[] dp = <span class="keyword">new</span> <span class="title class_">long</span>[mex + <span class="number">1</span>];</span><br><span class="line">    Arrays.fill(dp, Long.MAX_VALUE);</span><br><span class="line">    dp[mex] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> mex - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt;= mex; j++) &#123;</span><br><span class="line">            dp[i] = Math.min(dp[i], dp[j] + (<span class="type">long</span>) (cnt[i] - <span class="number">1</span>) * j + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(dp[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-10-01T16:15:47.545Z" title="2023/10/2 上午12:15:47">2023-10-02</time>发表</span><span class="level-item"><time dateTime="2023-10-01T16:16:52.051Z" title="2023/10/2 上午12:16:52">2023-10-02</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span> / </span><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/AtCoder/">AtCoder</a></span><span class="level-item">4 分钟读完 (大约663个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/10/02/AtCoder%20Beginner%20Contest%20322/">AtCoder Beginner Contest 322</a></p><div class="content"><h2 id="First-ABC-2"><a href="#First-ABC-2" class="headerlink" title="First ABC 2"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc322/tasks/abc322_a">First ABC 2</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> io.next();</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> s.indexOf(<span class="string">&quot;ABC&quot;</span>);</span><br><span class="line">    io.println(ans &lt; <span class="number">0</span> ? -<span class="number">1</span> : ans + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Prefix-and-Suffix"><a href="#Prefix-and-Suffix" class="headerlink" title="Prefix and Suffix"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc322/tasks/abc322_b">Prefix and Suffix</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), m = io.nextInt();</span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> io.next(), t = io.next();</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i) != t.charAt(i)) &#123;</span><br><span class="line">            ans |= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i) != t.charAt(m - n + i)) &#123;</span><br><span class="line">            ans |= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Festival"><a href="#Festival" class="headerlink" title="Festival"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc322/tasks/abc322_c">Festival</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), m = io.nextInt();</span><br><span class="line">    <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    Arrays.fill(ans, -<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> io.nextInt() - <span class="number">1</span>;</span><br><span class="line">        ans[x] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ans[i] == -<span class="number">1</span>) &#123;</span><br><span class="line">            ans[i] = ans[i + <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        io.println(ans[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Polyomino"><a href="#Polyomino" class="headerlink" title="Polyomino"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc322/tasks/abc322_d">Polyomino</a></h2><p>模拟题，使用位运算似乎更简单，<a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc322/editorial/7311">题解</a>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">char</span>[][][] G = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">3</span>][<span class="number">4</span>][<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            G[i][j] = io.next().toCharArray();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(dfs(<span class="number">0</span>, G, <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">4</span>][<span class="number">4</span>]) ? <span class="string">&quot;Yes&quot;</span> : <span class="string">&quot;No&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">char</span>[][][] G, <span class="type">char</span>[][] C)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (C == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">3</span>) <span class="keyword">return</span> check(C);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">dx</span> <span class="operator">=</span> -<span class="number">3</span>; dx &lt;= <span class="number">3</span>; dx++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">dy</span> <span class="operator">=</span> -<span class="number">3</span>; dy &lt;= <span class="number">3</span>; dy++) &#123;</span><br><span class="line">                <span class="type">char</span>[][] T = move(dx, dy, G[i]);</span><br><span class="line">                <span class="keyword">if</span> (T == <span class="literal">null</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span> (dfs(i + <span class="number">1</span>, G, add(T, C))) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        G[i] = rotate(G[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">char</span>[][] rotate(<span class="type">char</span>[][] A) &#123;</span><br><span class="line">    <span class="type">char</span>[][] B = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">4</span>][<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            B[i][j] = A[<span class="number">3</span> - j][i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> B;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">char</span>[][] move(<span class="type">int</span> dx, <span class="type">int</span> dy, <span class="type">char</span>[][] G) &#123;</span><br><span class="line">    <span class="type">char</span>[][] res = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">4</span>][<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        Arrays.fill(res[i], <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">nx</span> <span class="operator">=</span> i + dx, ny = j + dy;</span><br><span class="line">            <span class="keyword">if</span>(G[i][j] == <span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nx &lt; <span class="number">0</span> || nx &gt;= <span class="number">4</span> || ny &lt; <span class="number">0</span> || ny &gt;= <span class="number">4</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                res[nx][ny] = G[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">char</span>[][] add(<span class="type">char</span>[][] T, <span class="type">char</span>[][] C) &#123;</span><br><span class="line">    <span class="type">char</span>[][] res = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">4</span>][<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (C[i][j] == <span class="string">&#x27;#&#x27;</span> &amp;&amp; T[i][j] == <span class="string">&#x27;#&#x27;</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">if</span> (C[i][j] == <span class="string">&#x27;#&#x27;</span> || T[i][j] == <span class="string">&#x27;#&#x27;</span>) res[i][j] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span> res[i][j] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(<span class="type">char</span>[][] C)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (C[i][j] != <span class="string">&#x27;#&#x27;</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Product-Development"><a href="#Product-Development" class="headerlink" title="Product Development"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc322/tasks/abc322_e">Product Development</a></h2><p>动态规划，\(dp[i][j]\) 表示从前 \(i\) 个计划中选择开发计划，使得参数到达 \(j\)，需要的最小成本，其中 \(j\) 表示 \(a_{1},a_{2},\dots,a_{k}\) 的某个取值，通过将序列看作 \(p+1\) 进制数，可以将一个序列转换为某个数值（在这里就是 \(j\)）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), k = io.nextInt(), p = io.nextInt();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[] pw = <span class="keyword">new</span> <span class="title class_">int</span>[k + <span class="number">1</span>];</span><br><span class="line">    pw[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">        pw[i] = pw[i - <span class="number">1</span>] * (p + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span>[] dp = <span class="keyword">new</span> <span class="title class_">long</span>[pw[k]];</span><br><span class="line">    Arrays.fill(dp, -<span class="number">1L</span>);</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">        <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; k; j++) &#123;</span><br><span class="line">            a[j] = io.nextInt();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> pw[k] - <span class="number">1</span>; s &gt;= <span class="number">0</span>; s--) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; k; j++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> s / pw[j] % (p + <span class="number">1</span>);</span><br><span class="line">                <span class="type">int</span> <span class="variable">nxt</span> <span class="operator">=</span> Math.min(p, cur + a[j]);</span><br><span class="line">                t += nxt * pw[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (dp[s] != -<span class="number">1</span> &amp;&amp; (dp[t] == -<span class="number">1</span> || dp[t] &gt; dp[s] + c)) &#123;</span><br><span class="line">                dp[t] = dp[s] + c;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(dp[pw[k] - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-09-29T10:46:57.093Z" title="2023/9/29 下午6:46:57">2023-09-29</time>发表</span><span class="level-item"><time dateTime="2023-09-29T10:51:10.491Z" title="2023/9/29 下午6:51:10">2023-09-29</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E8%AF%BE%E7%A8%8B/">课程</a><span> / </span><a class="link-muted" href="/categories/%E8%AF%BE%E7%A8%8B/CMU-15-445/">CMU 15-445</a></span><span class="level-item">22 分钟读完 (大约3298个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/09/29/Project%202%20-%20B+Tree/">Project #2 - B+Tree</a></p><div class="content"><h2 id="项目准备"><a href="#项目准备" class="headerlink" title="项目准备"></a>项目准备</h2><p>项目地址：<a target="_blank" rel="noopener" href="https://15445.courses.cs.cmu.edu/spring2023/project2/">Project #2 - B+Tree</a></p>
<p>准备工作：阅读 <strong>Chapter 14.5 24.5 14.1-14.4 18.10.2</strong>，学习 <strong>Lecture #07 #08 #09</strong>，以及阅读课堂笔记。</p>
<h2 id="Task-1-B-Tree-Pages"><a href="#Task-1-B-Tree-Pages" class="headerlink" title="Task #1 - B+Tree Pages"></a>Task #1 - B+Tree Pages</h2><h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><p>① 第一个比较迷惑的点就是 <code>max_size_</code> 的含义，对官方提供的<a target="_blank" rel="noopener" href="https://15445.courses.cs.cmu.edu/spring2023/bpt-printer/">B+Tree</a>进行插入操作，发现叶子节点的 <code>size_</code> 不会到达 <code>max_size_</code>。难道叶子节点实际只能包含 <code>max_size_ - 1</code> 个 key 吗？通过查看项目地址中的 Requirements and Hints 可以发现，官方建议叶子节点在插入后大小达到 <code>max_size_</code> 时，进行分裂，内部节点在插入前大小达到 <code>max_size_</code> 时进行分裂。所以对于内部节点，<code>max_size_</code> 表示它能包含的指针数量；对于叶子节点，<code>max_size_</code> 表示它能包含的键值对数量。</p>
<p>② <code>GetMinSize</code> 的实现，同样参考官方示例，对于非叶子节点，返回 <code>(max_size_ + 1) / 2</code>；对于叶子节点，返回 <code>max_size_ / 2</code>。为什么要这样，参考第 ① 点也就明白了，这样可以保证分裂后的两个节点的大小都至少为最小大小，所以该方法的实现实际上取决于分裂的具体实现（即何时分裂）。</p>
<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><p>① 如何理解 <code>MappingType array_[0]</code>，注释表示它是 Flexible array member for page data，参见维基百科<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Flexible_array_member">Flexible array member</a>。似乎是 C 语言的特性，C++ 标准不支持，但是 C++ 的编译器普遍会支持。</p>
<p>② 在内部节点和叶子节点中，<code>array_</code> 的唯一区别就是在搜索内部节点时不能使用 <code>array[0]_.first</code>，因为它并不能准确表示 <code>array_[0].second</code> 中 key 的范围（向 <code>array_[0].second</code> 中插入一个更小的 key，它就失效了）。</p>
<h2 id="Task-2a-B-Tree-Insertion-and-Search-for-Single-Values"><a href="#Task-2a-B-Tree-Insertion-and-Search-for-Single-Values" class="headerlink" title="Task #2a - B+Tree Insertion and Search for Single Values"></a>Task #2a - B+Tree Insertion and Search for Single Values</h2><h3 id="实现-1"><a href="#实现-1" class="headerlink" title="实现"></a>实现</h3><p>① 比较纠结的是既然要使用二分查找，如何保证节点内部 key 的有序性，因为是使用数组存储的，所以似乎只能花费 \(O(n)\) 时间来移动元素了？或者可以加一个数据结构存下标，来保证有序性，但是涉及分裂和删除操作还是比较难搞的，暂时不优化。</p>
<p>② 可以在 <code>BPlusTreeInternalPage</code> 和 <code>BPlusTreeLeafPage</code> 中添加 <code>Search</code> 函数，来实现二分查找指定 key。内部节点一定可以找到一个满足条件的位置（因为我们找的实际上是指针），而叶子节点如果找不到指定 key，那么就返回 <code>-index - 1</code>（方便之后插入，类似 Java 中的 <a href="file:///D:/Java/javadoc17/api/java.base/java/util/Arrays.html#binarySearch(int[],int)">BinarySearch</a>）。具体的实现逻辑：</p>
<ul>
<li>内部节点从位置 1 开始找第一个大于 key 的键，返回它左边位置，即 <code>index - 1</code>。</li>
<li>叶子节点从位置 0 开始找第一个大于等于 key 的键，如果越界或者键值不等于 key，则返回 <code>-index - 1</code>，否则返回 <code>index</code>。</li>
</ul>
<p>③ 特别注意 <code>PageGuard</code> 的使用，只有当操作完页面之后，才对其进行 <code>Drop</code> 操作（移动赋值以及匿名对象的析构都会导致该操作）。并且用完页面后及时 <code>Drop</code>，这样可以尽早释放页面的锁以及 <code>Unpin</code> 页面。插入时，利用 latch crabbing 技巧，先拿到下个页面的锁，然后根据页面大小判断是否 <code>Drop</code> 上个页面（使用 <code>Context</code>）。注意拿锁和 <code>Drop</code> 的顺序，以及该大小判断依赖于分裂的实现，详细见 Task #1 - B+Tree Pages ①。</p>
<p>④ 获取页面需要进行类型转换，如果只读不写就使用 <code>page_guard.h</code> 中提供的 <code>As</code> 函数，只有需要写页面时才使用 <code>AsMut</code> 函数，因为该函数会将页面置为脏页。先将其转换为 <code>BPlusTreePage</code>，然后再根据页面类型，将其转换为内部节点或叶子节点，注意 <code>BPlusTree</code> 类中已经为我们提供了别名：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> InternalPage = BPlusTreeInternalPage&lt;KeyType, <span class="type">page_id_t</span>, KeyComparator&gt;;</span><br><span class="line"><span class="keyword">using</span> LeafPage = BPlusTreeLeafPage&lt;KeyType, ValueType, KeyComparator&gt;;</span><br></pre></td></tr></table></figure>

<p>一开始我没有注意，在对内部节点转换时，误将其 <code>page_id_t</code> 转为 <code>ValueType</code>，导致完全误解了整个项目的结构。</p>
<p>⑤ 分裂叶子节点和内部节点时，注意判断当前节点是否是根节点。我们可以在 <code>BPlusTreeInternalPage</code> 和 <code>BPlusTreeLeafPage</code> 中添加 <code>Split</code> 函数，来实现分裂。</p>
<p>叶子节点的分裂操作比较简单，就是移动然后设置大小，为了不让页面类和其他类耦合（<code>BufferPoolManager</code>，<code>Context</code>），我将分裂函数的参数设计为 <code>BPlusTreeInternalPage &amp;new_page</code>，它会返回将插入到上层的 key，即新节点的第一个 key。</p>
<p>内部节点的分裂操作比较复杂，并发测试时遇到边界样例才发现，因为内部节点的分裂是插入前分裂，所以还需要考虑插入的那个键的大小。如果 key 比 <code>array_[GetMinSize() - 1]</code> 小，则插入到当前节点，否则插入到新分裂的节点。并且，在插入新分裂的节点时，可能会插入到索引为 0 的位置，这一点要特别注意。最后，也是返回新节点的第一个 key（指的是 <code>array_[0].first</code>，因为分裂的时候复制了）。</p>
<p>⑥ 同理，在内部页面和叶子页面类中可以添加 <code>Insert</code> 函数。需要注意的是，这两个函数的实现有些点不同。对于内部节点，当 B+Tree 的根节点分裂时，该情况会将 <code>page_id</code> 插入到内部节点的第一个没有键的位置，所以我们可以将参数设计为  <code>const std::optional&lt;KeyType&gt; &amp;opt</code> 来区分这种情况。对于叶子节点，由于不能有相同的键，所以根据 <code>Search</code> 的实现，当 <code>index ≥ 0</code> 时返回 <code>false</code>，否则继续插入。</p>
<h3 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h3><p>调试时可以先使用<a target="_blank" rel="noopener" href="http://dreampuf.github.io/GraphvizOnline/">可视化网站</a>查看 B+ 树，方便定位问题，我们可以使用 shell 脚本一键生成文件（<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/64000750/running-program-and-providing-input-from-shell-script">解决方案</a>）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">make b_plus_tree_printer -j$(nproc)</span><br><span class="line">&#123; echo 2 3; echo i 1; echo i 2; echo g my-tree.txt; echo q; &#125; | ./bin/b_plus_tree_printer</span><br></pre></td></tr></table></figure>

<p>在生成文件时可能会报 [b_plus_tree.cpp:356:Draw] WARN  - Drawing an empty tree 错误，原因是我们没有实现 <code>b_plus_tree.cpp</code> 中的 <code>IsEmpty</code> 函数。</p>
<h3 id="补充-1"><a href="#补充-1" class="headerlink" title="补充"></a>补充</h3><p>① 如何使用 <code>upper_bound</code> 和 <code>lower_bound</code>（Java 选手表示踩了很多坑），可以看看 cppreference 的<a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/algorithm/lower_bound">示例代码</a>，尤其注意 lambda 表达式的使用（参数顺序，以及大小的比较）。</p>
<p>② 测试时忽略 iterators 的测试。</p>
<p>③ <code>GetValue</code> 注意特判根节点是否存在，否则可能引发空指针异常（依赖于 <code>BufferPoolManager</code> 的实现）。</p>
<h2 id="Task-2b-B-Tree-Deletions"><a href="#Task-2b-B-Tree-Deletions" class="headerlink" title="Task #2b - B+Tree Deletions"></a>Task #2b - B+Tree Deletions</h2><h3 id="实现-2"><a href="#实现-2" class="headerlink" title="实现"></a>实现</h3><p>① 删除操作可以分为两种情况，相邻节点重新分配和相邻节点合并。进一步可以划分为操作当前节点的左节点，还是右节点。需要注意的是，我们只有对相同父节点的两个子节点执行上述操作，一个非根节点必定有一个同父的左节点或右节点。（如果不这样限制，实现起来会很麻烦，需要找到最近公共祖先，做键值的替换。）为了能够获取左右节点的页面，我们在从上到下找 key 对应的页面时，可以同时保存左右页面的 <code>page_id</code>。</p>
<p>② 重新分配操作，需要区分左右。如果从右节点取，则需要更新右节点对应父节点中的 key；如果从左节点取，则需要更新当前节点对应父节点中的 key。操作完可以直接返回。</p>
<p>③ 合并操作同理，只不过不是更新，而是删除对应父节点中的 key（递归删除）。注意，如果合并叶子节点，需要同时更新 <code>next_page_id_</code>。（合并之后右侧的页面永远都不会被使用，或许需要对其执行 <code>DeletePage</code> 操作，在 <code>DeletePage</code> 之前需要 <code>Drop/Unpin</code> 页面。有个疑问，<code>DeletePage</code> 之前 <code>Drop</code> 之后，如果有线程 <code>Fetch</code>，那么删除页面的操作就会失败。）</p>
<h3 id="调试-1"><a href="#调试-1" class="headerlink" title="调试"></a>调试</h3><p>实现的思路弄明白后，大方向上就不会出错，但是很多细节容易写错：变量名字，重复执行 <code>pop_back()</code> 操作，删除页面后对页面进行操作等等。不过，说实话官方提供的可视化类真好用，Debug 全靠可视化来定位问题。磨磨蹭蹭，花费一天时间，做得有点慢。</p>
<h2 id="Task-3-An-Iterator-for-Leaf-Scans"><a href="#Task-3-An-Iterator-for-Leaf-Scans" class="headerlink" title="Task #3 - An Iterator for Leaf Scans"></a>Task #3 - An Iterator for Leaf Scans</h2><p>基本上没有难度，遇到唯一的错误就是把 <code>GetSize</code> 打成了 <code>GetMaxSize</code>（因为用的自动补全）。</p>
<h2 id="Task-4-Concurrent-Index"><a href="#Task-4-Concurrent-Index" class="headerlink" title="Task #4 - Concurrent Index"></a>Task #4 - Concurrent Index</h2><p>① 遇到问题，先定位它是什么问题。首先，应该解决非并发问题，我们可以在插入和删除的开头加一把大锁，然后利用并发测试 <code>MixTest2</code>，来混合查找、插入和删除操作，看看是否存在问题。为了尽可能引发问题，可以将叶子节点和内部节点的最大大小修改为 <code>2 3</code>，将 <code>total_keys</code> 修改为 <code>1000</code>，尽可能的触发分裂和合并操作（这个测试，比线上测试还强，多跑几次线上能过的给报错了）。在混合时，可以分别混合查找和插入，查找和删除，插入和删除，这样方便定位问题出在哪里。然后，再去进行并发优化，一点一点优化，边优化边测试，这样就不会因为找不到 Bug 的位置而发愁啦。</p>
<p>② 遇到错误，[disk_manager_memory.h:104:ReadPage] WARN  - page not exist，发现是 <code>BufferPoolManager</code> 的 Bug，需要跑回去修复。一天后，终于真正的把 Bug 修好了，代码也稍微重构了一下，哈哈，真的 99% 不会报错（有个 <code>FetchPageBasic/Read/Write</code> 返回 <code>nullptr</code> 的错误没修复，报错概率很低，以后有问题再修），不得不说本地测试用例修改后是真的强劲，线上强度不够啊。（<del>但是重构了个寂寞，效率没变，难受啊</del>）</p>
<p>③ B+Tree 的并发问题其实基本没有，都是单线程问题或者 BPM 的并发问题，B+Tree 的并发只要注意 <code>Fetch</code> 和 <code>Drop</code> 的顺序就 OK。</p>
<h2 id="Optional-Leaderboard-Task"><a href="#Optional-Leaderboard-Task" class="headerlink" title="(Optional) Leaderboard Task"></a>(Optional) Leaderboard Task</h2><p>① 初次提交通过，排名还挺高。额，多次提交能差七八万。感觉测试有问题，平均 QPS 也就十万多。</p>
<p>② 优化暂时搁置。</p>
<table>
<thead>
<tr>
<th>Rank</th>
<th>Submission Name</th>
<th>read_qps</th>
<th>write_qps</th>
<th>total_qps</th>
</tr>
</thead>
<tbody><tr>
<td>36</td>
<td>ALEX</td>
<td>200376</td>
<td>603</td>
<td>200980</td>
</tr>
</tbody></table>
<h2 id="测试结果"><a href="#测试结果" class="headerlink" title="测试结果"></a>测试结果</h2><p>Checkpoint #1 说简单也不简单，感觉有些细节总是写错，包括下标的处理，C++ 二分查找函数的使用，变量名称，以及一些边界条件。说难也不难，线上测试首次提交就通过了。总共花了一天半吧。</p>
<p><img src="/img/CMU_15-445.assets/1695198575752.png"></p>
<p>Checkpoint #2 总共花了两天，任务三四没什么难度，主要时间还是在删除操作，以及修复插入操作中的 Bug。</p>
<p><img src="/img/CMU_15-445.assets/1695380469970.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">make b_plus_tree_insert_test b_plus_tree_sequential_scale_test b_plus_tree_delete_test b_plus_tree_concurrent_test -j$(nproc)</span><br><span class="line">./test/b_plus_tree_insert_test</span><br><span class="line">./test/b_plus_tree_sequential_scale_test</span><br><span class="line">./test/b_plus_tree_delete_test</span><br><span class="line">./test/b_plus_tree_concurrent_test</span><br><span class="line">make format</span><br><span class="line">make check-lint</span><br><span class="line">make check-clang-tidy-p2</span><br><span class="line">make submit-p2</span><br></pre></td></tr></table></figure>

<h2 id="项目小结"><a href="#项目小结" class="headerlink" title="项目小结"></a>项目小结</h2><p>开始做项目之前，对插入和删除具体怎么操作还是比较迷糊的，实际实现起来发现原来是这样的。特别需要注意别打错变量名，我用自动补全总是搞混 <code>MaxSize</code> 和 <code>MinSize</code>，还有各种变量都敲错，运行起来找 Bug 就头疼了。还要注意，内部节点和叶子节点分裂的时机不同，实现也不同，以及在分裂时如何对待内部节点的第一个 <code>key</code>。然后删除操作就是个分类讨论，弄明白就不难了。并发错误我也真是见识到了，BPM 优化需谨慎啊。（<del>做得还是很慢，对大佬来说，其实就是个复杂点的模拟题吧</del>）</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-09-27T09:56:49.003Z" title="2023/9/27 下午5:56:49">2023-09-27</time>发表</span><span class="level-item"><time dateTime="2023-09-27T09:58:00.669Z" title="2023/9/27 下午5:58:00">2023-09-27</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span> / </span><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/Codeforces/">Codeforces</a></span><span class="level-item">3 分钟读完 (大约483个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/09/27/CodeTON%20Round%206%20(Div.%201%20+%20Div.%202,%20Rated,%20Prizes!)/">CodeTON Round 6 (Div. 1 + Div. 2, Rated, Prizes!)</a></p><div class="content"><h2 id="MEXanized-Array"><a href="#MEXanized-Array" class="headerlink" title="MEXanized Array"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1870/problem/A">MEXanized Array</a></h2><p>分类讨论，一开始以为不能有重复，花了很多时间。（菜）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), k = io.nextInt(), x = io.nextInt();</span><br><span class="line">    <span class="keyword">if</span> (n &lt; k || x &lt; k - <span class="number">1</span>) io.println(-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> io.println((k - <span class="number">1</span>) * k / <span class="number">2</span> + (n - k) * (x == k ? k - <span class="number">1</span> : x));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Friendly-Arrays"><a href="#Friendly-Arrays" class="headerlink" title="Friendly Arrays"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1870/problem/B">Friendly Arrays</a></h2><p>又看错题了，其实是道很简单的题。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), m = io.nextInt();</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        a ^= io.nextInt();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        b |= io.nextInt();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> a, max = a;</span><br><span class="line">    <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        min = a ^ (a &amp; b);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        max = a | b;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(min + <span class="string">&quot; &quot;</span> + max);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Colorful-Table"><a href="#Colorful-Table" class="headerlink" title="Colorful Table"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1870/problem/C">Colorful Table</a></h2><p>一个数可以向外扩展到大于等于它的的数的位置，我们可以按 \(k\) 的大小记录左右端点，然后按照从大到小遍历，来扩展边界，最后计算答案。注意，排除不在数组中的数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), k = io.nextInt();</span><br><span class="line">    <span class="type">boolean</span>[] mark = <span class="keyword">new</span> <span class="title class_">boolean</span>[k];</span><br><span class="line">    <span class="type">int</span>[] l = <span class="keyword">new</span> <span class="title class_">int</span>[k], r = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">    Arrays.fill(l, n);</span><br><span class="line">    Arrays.fill(r, -<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> io.nextInt() - <span class="number">1</span>;</span><br><span class="line">        mark[a] = <span class="literal">true</span>;</span><br><span class="line">        l[a] = Math.min(l[a], i);</span><br><span class="line">        r[a] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        l[i] = Math.min(l[i], l[i + <span class="number">1</span>]);</span><br><span class="line">        r[i] = Math.max(r[i], r[i + <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!mark[i]) io.print(<span class="number">0</span> + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> io.print(<span class="number">2</span> * (r[i] - l[i] + <span class="number">1</span>) + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    io.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Prefix-Purchase"><a href="#Prefix-Purchase" class="headerlink" title="Prefix Purchase"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1870/problem/D">Prefix Purchase</a></h2><p>又又犯蠢了，题目都没读明白。如果右边有更小的数，那么肯定选更小的数是更优的，可以从右向左遍历，将右边的最小值传递到当前位置。然后就是依次处理每个位置，细节见代码。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">c</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; c[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> k;</span><br><span class="line">    cin &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        c[i] = <span class="built_in">min</span>(c[i], c[i + <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> x = i == <span class="number">0</span> ? c[i] : c[i] - c[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (x != <span class="number">0</span>) m = <span class="built_in">min</span>(m, k / x);</span><br><span class="line">        k -= x * m;</span><br><span class="line">        cout &lt;&lt; m &lt;&lt; <span class="string">&quot; \n&quot;</span>[i == n - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-09-27T09:48:45.015Z" title="2023/9/27 下午5:48:45">2023-09-27</time>发表</span><span class="level-item"><time dateTime="2023-09-27T09:49:57.206Z" title="2023/9/27 下午5:49:57">2023-09-27</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span> / </span><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/Codeforces/">Codeforces</a></span><span class="level-item">5 分钟读完 (大约745个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/09/27/Codeforces%20Round%20900%20(Div.%203)/">Codeforces Round 900 (Div. 3)</a></p><div class="content"><h2 id="How-Much-Does-Daytona-Cost"><a href="#How-Much-Does-Daytona-Cost" class="headerlink" title="How Much Does Daytona Cost?"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1878/problem/A">How Much Does Daytona Cost?</a></h2><p>所有长度为 \(1\) 的子数组，包含的元素必定是众数，所以只需判断 \(k\) 是否存在于数组中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), k = io.nextInt();</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">ok</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (k == io.nextInt()) &#123;</span><br><span class="line">            ok = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(ok ? <span class="string">&quot;YES&quot;</span> : <span class="string">&quot;NO&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Aleksa-and-Stack"><a href="#Aleksa-and-Stack" class="headerlink" title="Aleksa and Stack"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1878/problem/B">Aleksa and Stack</a></h2><p>两个奇数相加得到偶数，两个奇数相乘得到奇数，奇数不会被偶数整除，所以构造一个全是奇数的序列即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        io.print(i * <span class="number">2</span> + <span class="number">1</span> + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    io.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Vasilije-in-Cacak"><a href="#Vasilije-in-Cacak" class="headerlink" title="Vasilije in Cacak"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1878/problem/C">Vasilije in Cacak</a></h2><p>只要 \(x\) 在最小值和最大值之间，就总是可以被表示出来。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), k = io.nextInt();</span><br><span class="line">    <span class="type">long</span> <span class="variable">x</span> <span class="operator">=</span> io.nextLong();</span><br><span class="line">    <span class="type">long</span> <span class="variable">a</span> <span class="operator">=</span> (<span class="type">long</span>) (<span class="number">1</span> + k) * k / <span class="number">2</span>;</span><br><span class="line">    <span class="type">long</span> <span class="variable">b</span> <span class="operator">=</span> (<span class="type">long</span>) (n - k + <span class="number">1</span> + n) * k / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (x &gt;= a &amp;&amp; x &lt;= b) io.println(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> io.println(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Reverse-Madness"><a href="#Reverse-Madness" class="headerlink" title="Reverse Madness"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1878/problem/D">Reverse Madness</a></h2><p>数组被 \(l\) 和 \(r\) 分段，每一段都是相互独立的，可以单独考虑段内的反转情况。可以发现段内反转总是中心对称的，每个元素是否反转，取决于该元素位置被反转次数的奇偶性，可以用两边向中间求累加和的方式统计，也可以用差分数组。（比赛时我没有统计奇偶性，而是抵消相邻的反转的相同部分）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt(), k = io.nextInt();</span><br><span class="line">    <span class="type">char</span>[] s = io.next().toCharArray();</span><br><span class="line">    <span class="type">int</span>[] l = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        l[i] = io.nextInt() - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] r = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        r[i] = io.nextInt() - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">q</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">    <span class="type">int</span>[] cnt = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; q; i++) &#123;</span><br><span class="line">        cnt[io.nextInt() - <span class="number">1</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> l[i]; a &lt;= (l[i] + r[i]) / <span class="number">2</span>; a++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> r[i] + l[i] - a;</span><br><span class="line">            sum += cnt[a] + cnt[b];</span><br><span class="line">            <span class="keyword">if</span> (sum % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s[a];</span><br><span class="line">                s[a] = s[b];</span><br><span class="line">                s[b] = c;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    io.println(<span class="keyword">new</span> <span class="title class_">String</span>(s));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Iva-amp-Pav"><a href="#Iva-amp-Pav" class="headerlink" title="Iva &amp; Pav"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1878/problem/E">Iva &amp; Pav</a></h2><p>比较简单的做法是，计算每个比特位的前缀和，然后对每个查询二分答案的位置，将二分位置的值和 \(k\) 比较来判断二分的走向。比赛时我是用下面的方法做的，就是没想到二分，其实也可以不用二分，但是没看明白为什么，代码<a target="_blank" rel="noopener" href="https://codeforces.com/contest/1878/submission/225297136">在此</a>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">    <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        a[i] = io.nextInt();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// next[i][j] 表示 a[i] 的第 j 位等于 0 的下一个位置</span></span><br><span class="line">    <span class="type">int</span>[][] next = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>][<span class="number">32</span>];</span><br><span class="line">    Arrays.fill(next[n], n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">32</span>; j++) &#123;</span><br><span class="line">            next[i][j] = next[i + <span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">if</span> ((a[i] &gt;&gt; j &amp; <span class="number">1</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">                next[i][j] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">q</span> <span class="operator">=</span> io.nextInt();</span><br><span class="line">    <span class="keyword">while</span> (q-- != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> io.nextInt() - <span class="number">1</span>, k = io.nextInt();</span><br><span class="line">        <span class="keyword">if</span> (a[l] &lt; k) &#123;</span><br><span class="line">            io.print(<span class="string">&quot;-1 &quot;</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> l, hi = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (lo &lt;= hi) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (next[mid][i] &gt; mid &amp;&amp; next[mid][i] == next[l][i]) &#123;</span><br><span class="line">                    cur |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cur &gt;= k) lo = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> hi = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        io.print(hi + <span class="number">1</span> + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    io.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/2/">上一页</a></div><div class="pagination-next"><a href="/page/4/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link is-current" href="/page/3/">3</a></li><li><a class="pagination-link" href="/page/4/">4</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/7/">7</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/dark_souls.jpg" alt="Ligh0x74"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Ligh0x74</p><p class="is-size-6 is-block">Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Earth, Solar System</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">70</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">8</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Ligh0x74" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Ligh0x74"><i class="fab fa-github"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://ppoffice.github.io/hexo-theme-icarus/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ICARUS</span></span><span class="level-right"><span class="level-item tag">ppoffice.github.io</span></span></a></li><li><a class="level is-mobile" href="https://waline.js.org" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Waline</span></span><span class="level-right"><span class="level-item tag">waline.js.org</span></span></a></li><li><a class="level is-mobile" href="https://vercel.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Vercel</span></span><span class="level-right"><span class="level-item tag">vercel.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E5%85%B6%E4%BB%96/"><span class="level-start"><span class="level-item">其他</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="level-start"><span class="level-item">数据库</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/OceanBase/"><span class="level-start"><span class="level-item">OceanBase</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">算法</span></span><span class="level-end"><span class="level-item tag">60</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E7%AE%97%E6%B3%95/AtCoder/"><span class="level-start"><span class="level-item">AtCoder</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%AE%97%E6%B3%95/Codeforces/"><span class="level-start"><span class="level-item">Codeforces</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%AE%97%E6%B3%95/LeetCode/"><span class="level-start"><span class="level-item">LeetCode</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%AE%97%E6%B3%95/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><span class="level-start"><span class="level-item">基础知识</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E8%AF%AD%E8%A8%80/"><span class="level-start"><span class="level-item">语言</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%AF%AD%E8%A8%80/C/"><span class="level-start"><span class="level-item">C++</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%AD%E8%A8%80/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B/"><span class="level-start"><span class="level-item">课程</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B/CMU-15-445/"><span class="level-start"><span class="level-item">CMU 15-445</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-04T04:01:24.362Z">2023-11-04</time></p><p class="title"><a href="/2023/11/04/Educational%20Codeforces%20Round%20157%20(Rated%20for%20Div.%202)/">Educational Codeforces Round 157 (Rated for Div. 2)</a></p><p class="categories"><a href="/categories/%E7%AE%97%E6%B3%95/">算法</a> / <a href="/categories/%E7%AE%97%E6%B3%95/Codeforces/">Codeforces</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-03T03:26:48.827Z">2023-11-03</time></p><p class="title"><a href="/2023/11/03/2023%20OceanBase%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%A7%E8%B5%9B/">2023 OceanBase 数据库大赛</a></p><p class="categories"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a> / <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/OceanBase/">OceanBase</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-03T03:14:10.601Z">2023-11-03</time></p><p class="title"><a href="/2023/11/03/Project%203%20-%20Query%20Execution/">Project #3 - Query Execution</a></p><p class="categories"><a href="/categories/%E8%AF%BE%E7%A8%8B/">课程</a> / <a href="/categories/%E8%AF%BE%E7%A8%8B/CMU-15-445/">CMU 15-445</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-10-31T13:18:16.946Z">2023-10-31</time></p><p class="title"><a href="/2023/10/31/%E5%9B%BE%E8%AE%BA/">图论</a></p><p class="categories"><a href="/categories/%E7%AE%97%E6%B3%95/">算法</a> / <a href="/categories/%E7%AE%97%E6%B3%95/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-10-31T11:20:45.316Z">2023-10-31</time></p><p class="title"><a href="/2023/10/31/Codeforces%20Round%20907%20(Div.%202)/">Codeforces Round 907 (Div. 2)</a></p><p class="categories"><a href="/categories/%E7%AE%97%E6%B3%95/">算法</a> / <a href="/categories/%E7%AE%97%E6%B3%95/Codeforces/">Codeforces</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">70</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/I-O/"><span class="tag">I/O</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"><span class="tag">动态规划</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9B%BE%E8%AE%BA/"><span class="tag">图论</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"><span class="tag">字符串</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8E%92%E5%BA%8F/"><span class="tag">排序</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E5%AD%A6/"><span class="tag">数学</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="tag">数据结构</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://clist.by/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CLIST</span></span><span class="level-right"><span class="level-item tag">clist.by</span></span></a></li><li><a class="level is-mobile" href="https://www.ruanyifeng.com/blog/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">阮一峰的网络日志</span></span><span class="level-right"><span class="level-item tag">www.ruanyifeng.com</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Ligh0x74&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2023 Ligh0x74</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>